[gd_scene load_steps=34 format=3 uid="uid://b3f1o547exhk0"]

[ext_resource type="PackedScene" uid="uid://s1v4ec45m2i5" path="res://assets/model/cheshire.glb" id="1_gqvfc"]
[ext_resource type="Script" uid="uid://ckqop5jjivbg0" path="res://src/actor/cheshire.gd" id="2_i4qp0"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_a2gjj"]
cull_mode = 1
albedo_color = Color(0, 0, 0, 1)
grow = true
grow_amount = 0.02

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_i4qp0"]
next_pass = SubResource("StandardMaterial3D_a2gjj")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_q7635"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3kauh"]
animation = &"battle_attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2ct1d"]
animation = &"battle_died"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lp02k"]
animation = &"battle_idle"
advance_on_start = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uowm0"]
animation = &"battle_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ftdew"]
animation = &"battle_target"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lidw1"]
animation = &"handshake"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uniqn"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iy7iy"]
animation = &"thinking"

[sub_resource type="Curve" id="Curve_lp02k"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uowm0"]
xfade_time = 0.2
xfade_curve = SubResource("Curve_lp02k")

[sub_resource type="Curve" id="Curve_lidw1"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uniqn"]
xfade_time = 0.2
xfade_curve = SubResource("Curve_lidw1")

[sub_resource type="Curve" id="Curve_2ct1d"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pjgvl"]
xfade_time = 0.3
xfade_curve = SubResource("Curve_2ct1d")
switch_mode = 1

[sub_resource type="Curve" id="Curve_cm4hu"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_a5ln7"]
xfade_time = 0.05
xfade_curve = SubResource("Curve_cm4hu")
switch_mode = 1

[sub_resource type="Curve" id="Curve_uowm0"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.434286, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_68j70"]
xfade_time = 0.7
xfade_curve = SubResource("Curve_uowm0")
switch_mode = 1
advance_mode = 2

[sub_resource type="Curve" id="Curve_3kauh"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cm4hu"]
xfade_time = 0.1
xfade_curve = SubResource("Curve_3kauh")

[sub_resource type="Curve" id="Curve_iy7iy"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4on3n"]
xfade_time = 0.1
xfade_curve = SubResource("Curve_iy7iy")

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_pjgvl"]
states/End/position = Vector2(826, 129.333)
states/Start/position = Vector2(185.333, 101.63)
states/battle_attack/node = SubResource("AnimationNodeAnimation_3kauh")
states/battle_attack/position = Vector2(676, -46)
states/battle_died/node = SubResource("AnimationNodeAnimation_2ct1d")
states/battle_died/position = Vector2(676, 136.626)
states/battle_idle/node = SubResource("AnimationNodeAnimation_lp02k")
states/battle_idle/position = Vector2(428.889, 70.6264)
states/battle_move/node = SubResource("AnimationNodeAnimation_uowm0")
states/battle_move/position = Vector2(428.889, 179.333)
states/battle_target/node = SubResource("AnimationNodeAnimation_ftdew")
states/battle_target/position = Vector2(676, 48)
states/handshake/node = SubResource("AnimationNodeAnimation_lidw1")
states/handshake/position = Vector2(868.333, -32.3736)
states/idle/node = SubResource("AnimationNodeAnimation_uniqn")
states/idle/position = Vector2(521, 265)
states/thinking/node = SubResource("AnimationNodeAnimation_iy7iy")
states/thinking/position = Vector2(666.333, 265)
transitions = ["battle_idle", "battle_move", SubResource("AnimationNodeStateMachineTransition_uowm0"), "battle_move", "battle_idle", SubResource("AnimationNodeStateMachineTransition_uniqn"), "battle_idle", "battle_target", SubResource("AnimationNodeStateMachineTransition_pjgvl"), "battle_target", "battle_attack", SubResource("AnimationNodeStateMachineTransition_a5ln7"), "battle_attack", "battle_idle", SubResource("AnimationNodeStateMachineTransition_68j70"), "battle_target", "battle_died", SubResource("AnimationNodeStateMachineTransition_cm4hu"), "battle_idle", "battle_died", SubResource("AnimationNodeStateMachineTransition_4on3n")]
graph_offset = Vector2(35, -53)

[sub_resource type="Curve" id="Curve_uniqn"]
_limits = [0.0, 3.0, 0.0, 1.0]
_data = [Vector2(0, 0), 0.0, 0.118067, 0, 0, Vector2(1, 1.00067), 2.09419, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_iy7iy"]
curve = SubResource("Curve_uniqn")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_3kauh"]
direction = Vector3(0, 0, -1)
spread = 32.0
initial_velocity_min = 1.0
initial_velocity_max = 4.12
gravity = Vector3(0, -0.5, 0)
damping_min = 2.0
damping_max = 2.0
scale_over_velocity_max = 1.0
scale_over_velocity_curve = SubResource("CurveTexture_iy7iy")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ftdew"]
albedo_color = Color(0.16, 0.0784, 0.0784, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_2ct1d"]
material = SubResource("StandardMaterial3D_ftdew")
size = Vector2(0.1, 0.1)

[node name="cheshire" instance=ExtResource("1_gqvfc")]
script = ExtResource("2_i4qp0")

[node name="Skeleton3D" parent="skeleton" index="0"]
bones/0/position = Vector3(-0.017387995, 0.4131911, 0.72078127)
bones/0/rotation = Quaternion(0.32187864, -0.16582882, -0.10628747, 0.92606586)
bones/1/rotation = Quaternion(0.085063025, 0.094707355, -0.04971363, 0.9906177)
bones/2/rotation = Quaternion(-0.086261936, 0.22050273, 0.048548635, 0.97035074)
bones/3/rotation = Quaternion(-0.12790203, -0.15435047, -0.0045830254, 0.97969186)
bones/5/rotation = Quaternion(-0.044524115, 0.63121384, -0.5192968, 0.5743844)
bones/9/rotation = Quaternion(0.14087479, -0.8890456, 0.42555478, 0.093034655)
bones/11/rotation = Quaternion(-0.28400657, 0.111685775, -0.76032704, 0.57338417)
bones/12/rotation = Quaternion(-0.30992165, 0.19588694, -0.46048403, 0.80841285)
bones/13/rotation = Quaternion(-0.0011051091, 0.16095853, -0.002670043, 0.98695695)
bones/14/rotation = Quaternion(0.12671904, -0.22287089, -0.1668437, 0.9520684)
bones/15/rotation = Quaternion(-0.15100898, 0.052856464, -0.16738477, 0.97282314)
bones/16/rotation = Quaternion(-0.035340674, -0.0038054422, -0.16884296, 0.9850019)
bones/17/rotation = Quaternion(0.0077068545, 8.4056084e-10, -0.0037737403, 0.9999633)
bones/18/rotation = Quaternion(0.044497952, -0.029037224, -0.1404348, 0.9886632)
bones/19/rotation = Quaternion(-0.03461131, -0.046945207, -0.2040003, 0.9772319)
bones/20/rotation = Quaternion(0.00052669045, 0.05151479, -0.20866966, 0.9766284)
bones/21/rotation = Quaternion(-0.0008733202, 4.5097707e-08, 0.031144915, 0.9995145)
bones/22/rotation = Quaternion(-0.044230685, 0.09731444, -0.13762201, 0.9846999)
bones/23/rotation = Quaternion(0.021156505, -0.01461322, -0.19668202, 0.98013014)
bones/24/rotation = Quaternion(0.052614775, 0.11579844, -0.22225937, 0.9666557)
bones/25/rotation = Quaternion(0.0057438873, 2.0621266e-07, 0.04281498, 0.99906653)
bones/26/rotation = Quaternion(-0.12993662, 0.20963128, -0.15677263, 0.9563438)
bones/27/rotation = Quaternion(0.12865631, 0.1164147, -0.09316528, 0.98041594)
bones/28/rotation = Quaternion(0.18169725, 0.043387275, -0.2732017, 0.9436443)
bones/29/rotation = Quaternion(-0.02739415, -1.0445518e-07, 0.07992725, 0.9964242)
bones/30/rotation = Quaternion(0.37663272, 0.52236754, -0.09535487, 0.75907)
bones/31/rotation = Quaternion(0.2981929, 0.13506593, -0.2519507, 0.9106915)
bones/32/rotation = Quaternion(-0.05280722, -0.3723513, -0.06860777, 0.9240449)
bones/33/rotation = Quaternion(-0.09649517, 0.29639766, 0.78337777, 0.53773266)
bones/34/rotation = Quaternion(0.3419419, 0.7065841, 0.556206, 0.27285457)
bones/35/rotation = Quaternion(-0.00048842654, -0.58335847, 0.0029817224, 0.8122092)
bones/36/rotation = Quaternion(-0.020608235, 0.9832294, 0.0027689338, 0.18118386)
bones/37/rotation = Quaternion(-0.114997014, -0.42371413, -0.3083411, 0.84390044)
bones/38/rotation = Quaternion(-0.44670194, -0.10201308, -0.19444843, 0.867318)
bones/39/rotation = Quaternion(-0.5316613, 0.20883512, -0.19287336, 0.7978247)
bones/40/rotation = Quaternion(0.011388061, 0.9841344, -0.112623736, -0.1366229)
bones/41/rotation = Quaternion(0.20147575, 0.91203266, 0.20539849, -0.29225945)
bones/42/rotation = Quaternion(-0.4699273, 0.04799293, 0.2954947, 0.8303903)
bones/43/rotation = Quaternion(-0.67608845, 0.14955132, 0.178837, 0.69896793)
bones/44/rotation = Quaternion(-0.08227773, 0.8283187, -0.17294939, 0.52650446)
bones/45/rotation = Quaternion(0.09271025, 0.9446021, -0.31178966, 0.043807648)
bones/46/rotation = Quaternion(0.4993401, -0.14437452, 0.15357047, 0.84037584)
bones/47/rotation = Quaternion(0.63925153, 0.090019554, 0.15787996, 0.7472135)
bones/48/rotation = Quaternion(0.02427397, 0.9604216, -0.26525453, 0.08149257)
bones/49/rotation = Quaternion(0.059545994, 0.5180935, -0.36234236, 0.77249044)
bones/50/rotation = Quaternion(0.44596386, -0.10282913, -0.21397735, 0.86299264)
bones/51/rotation = Quaternion(0.5673932, -0.032844566, -0.4323115, 0.7000665)
bones/52/rotation = Quaternion(-0.08220237, 0.6688329, 0.21065381, 0.7081881)
bones/54/rotation = Quaternion(-0.12083544, -0.062394705, -0.046151385, 0.98963416)
bones/55/position = Vector3(-0.017387958, 0.41319117, 0.72078127)
bones/55/rotation = Quaternion(0.6128179, 0.6450514, 0.11643697, 0.4413676)
bones/56/rotation = Quaternion(-0.09768284, -0.36270094, 0.2972694, 0.87780243)
bones/57/rotation = Quaternion(0.8059545, 0.0028158696, 0.3591903, 0.47054425)
bones/57/scale = Vector3(1, 0.99999994, 0.9999999)
bones/58/rotation = Quaternion(-0.052962415, 0.4978925, -0.8175019, 0.2845851)
bones/59/rotation = Quaternion(0.17247024, 0.26743898, -0.009399406, 0.9479674)
bones/60/position = Vector3(-0.017388, 0.41319114, 0.72078127)
bones/60/rotation = Quaternion(-0.61237764, 0.017653782, -0.08875533, 0.78536904)
bones/61/position = Vector3(-0.007380089, 0.4330924, 0.63878924)
bones/61/rotation = Quaternion(0.6159868, -0.43123287, 0.4826186, -0.44908562)
bones/62/rotation = Quaternion(-0.005607953, 0.10898659, -0.012962004, 0.9939429)
bones/63/rotation = Quaternion(0.0031401382, 0.07939355, 0.007907592, 0.99680704)
bones/64/rotation = Quaternion(-0.0015269234, 0.09133759, -0.00081508455, 0.99581856)
bones/65/rotation = Quaternion(-0.0009151991, 0.12447348, -0.003140498, 0.9922176)
bones/66/rotation = Quaternion(0.003390043, 0.095215745, 0.00915405, 0.9954088)
bones/67/rotation = Quaternion(-0.0010308572, 0.18142608, -0.014657799, 0.9832948)
bones/68/position = Vector3(-0.01738805, 0.4131911, 0.7207813)
bones/68/rotation = Quaternion(0.24904607, -0.58719677, 0.68671674, 0.3487065)
bones/69/rotation = Quaternion(0.39471725, -0.55425286, 0.25760764, 0.6860324)
bones/70/rotation = Quaternion(0.0015645359, 0.14288612, 0.0036066233, 0.9897313)
bones/70/scale = Vector3(1, 0.9999998, 1.0000002)
bones/71/rotation = Quaternion(-0.18714648, 0.7853337, -0.37311342, 0.4571802)
bones/72/rotation = Quaternion(0.12782265, 0.27726015, 0.007903404, 0.9522215)
bones/73/position = Vector3(-0.15885293, 0.6539695, 1.6050562)
bones/73/rotation = Quaternion(0.5438215, -0.35221034, -0.37099367, 0.6652592)
bones/74/position = Vector3(-0.15631247, 0.5877619, 0.93519664)
bones/74/rotation = Quaternion(-0.45772612, 0.46211866, -0.72178596, 0.23655486)
bones/75/position = Vector3(0.06361145, 0.043988496, 0.8464749)
bones/75/rotation = Quaternion(0.5553076, -0.5583823, 0.43775958, -0.43383086)
bones/76/position = Vector3(-0.16618744, -0.10138467, 0.26539096)
bones/76/rotation = Quaternion(-0.0023292878, 1.04061325e-13, 0.99999726, -1.4551633e-11)
bones/76/scale = Vector3(0.99999994, 1, 0.99999994)
bones/77/position = Vector3(-0.038237553, 0.05130406, -0.07541129)
bones/77/rotation = Quaternion(-0.4866463, -0.67920756, 0.031343482, 0.5485162)
bones/77/scale = Vector3(1, 0.99999994, 1)
bones/78/position = Vector3(0.005009502, -0.40133178, -0.22395219)
bones/78/rotation = Quaternion(0.005713742, 3.805049e-09, 0.99998367, 1.3948325e-08)
bones/78/scale = Vector3(1, 1, 1)
bones/79/position = Vector3(0.097260416, 0.7458755, 0.5399643)
bones/79/rotation = Quaternion(0.48283464, 0.07448586, -0.0597801, 0.8704878)
bones/80/position = Vector3(-0.15435845, 0.69270563, 1.5563266)
bones/80/rotation = Quaternion(0.63413453, 0.06827068, 0.13140476, 0.7589106)
bones/80/scale = Vector3(1, 1.0000001, 1.0000001)
bones/81/position = Vector3(-0.08360529, 0.2557178, -0.0818696)
bones/81/rotation = Quaternion(-0.51980984, 0.1298017, 0.046873424, 0.84306115)
bones/82/position = Vector3(-0.0037162974, -0.38344595, 0.059066176)
bones/82/rotation = Quaternion(-0.023742368, 2.3412647e-10, -0.0014937873, 0.99971706)

[node name="body" parent="skeleton/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_i4qp0")
surface_material_override/1 = SubResource("StandardMaterial3D_i4qp0")
surface_material_override/2 = SubResource("StandardMaterial3D_i4qp0")
surface_material_override/3 = SubResource("StandardMaterial3D_i4qp0")

[node name="clothes" parent="skeleton/Skeleton3D" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_i4qp0")

[node name="coat" parent="skeleton/Skeleton3D" index="2"]
surface_material_override/0 = SubResource("StandardMaterial3D_i4qp0")

[node name="pants" parent="skeleton/Skeleton3D" index="3"]
surface_material_override/0 = SubResource("StandardMaterial3D_i4qp0")

[node name="shoes" parent="skeleton/Skeleton3D" index="4"]
surface_material_override/0 = SubResource("StandardMaterial3D_i4qp0")

[node name="sword" parent="skeleton/Skeleton3D" index="5"]
surface_material_override/0 = SubResource("StandardMaterial3D_i4qp0")
surface_material_override/1 = SubResource("StandardMaterial3D_q7635")

[node name="sword_cover" parent="skeleton/Skeleton3D" index="6"]
surface_material_override/0 = SubResource("StandardMaterial3D_i4qp0")

[node name="animation_tree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_pjgvl")
anim_player = NodePath("../AnimationPlayer")

[node name="gpu_particles_attack" type="GPUParticles3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.084022, 0.78316, 2.45072)
emitting = false
amount = 30
lifetime = 2.0
one_shot = true
explosiveness = 0.9
process_material = SubResource("ParticleProcessMaterial_3kauh")
draw_pass_1 = SubResource("PlaneMesh_2ct1d")

[node name="gpu_particles_died" type="GPUParticles3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0170799, 1.29493, -0.192439)
emitting = false
amount = 30
lifetime = 2.0
one_shot = true
explosiveness = 0.9
process_material = SubResource("ParticleProcessMaterial_3kauh")
draw_pass_1 = SubResource("PlaneMesh_2ct1d")

[node name="audio_stream_player_3d" type="AudioStreamPlayer3D" parent="." index="5"]
